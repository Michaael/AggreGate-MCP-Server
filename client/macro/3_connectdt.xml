<macro>
  <title>Connect a Device</title>
  <descriptions>
    <html>
      <onFinish>false</onFinish>
      <body>&lt;p&gt;This tutorial will show you how to connect new hardware Device to $R{product} and configure it.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;It is highly recommended to complete the &lt;a href=&quot;2_newuser.xml&quot;&gt;Create a User Acccount&lt;/a&gt; tutorial before proceeding. This will allow you to log into $R{productServer} as a regular user and connect new device under a normal (non-administrative) user account.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;Click &lt;b&gt;Next&lt;/b&gt; to proceed.&lt;/p&gt;</body>
    </html>
    <html>
      <onFinish>true</onFinish>
      <body>&lt;p&gt;You have completed this Interactive Tutorial. You can now connect other devices to $R{product} and manage them.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;&lt;a href=&quot;index.html&quot;&gt;Index&lt;/a&gt;&lt;/p&gt;</body>
    </html>
  </descriptions>
  <steps>
    <operation>
      <title>Add New Device</title>
      <descriptions>
        <html>
          <onFinish>true</onFinish>
          <body>Processing request...</body>
        </html>
        <html>
          <onFinish>false</onFinish>
          <body>In this step, we&apos;re going to register a new device account. In other words, we&apos;ll be letting $R{productServer} know about a new piece of hardware.
&lt;ul&gt;
  &lt;li&gt; Look at the &lt;B&gt;System Tree&lt;/B&gt; (at the left side of the window)&lt;/li&gt;
  &lt;li&gt;Click the &lt;img src=&quot;icon_plus.png&quot;/&gt; next to your $R{productServer} to expand its node.&lt;/li&gt;
  &lt;li&gt;Locate the Devices node (&lt;img src=&quot;connectdt/st_devices.png&quot;/&gt;) and right-click it to show its context menu.&lt;/li&gt;
  &lt;li&gt;In the context menu, click &lt;b&gt;Add Device&lt;/b&gt;:&lt;br&gt;&lt;br&gt;&lt;img src=&quot;connectdt/add_device.png&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;

</body>
        </html>
      </descriptions>
      <steps>
        <editTable>
          <title>Specify Device Basic Properties</title>
          <descriptions>
            <html>
              <onFinish>false</onFinish>
              <body>Wait while the dialog is shown...</body>
            </html>
            <html>
              <onFinish>true</onFinish>
              <body>Click &lt;b&gt;OK&lt;/b&gt; to add a new device.</body>
            </html>
          </descriptions>
          <steps>
            <editTableCell>
              <title>Specify Device Basic Properties</title>
              <descriptions>
                <html>
                  <onFinish>true</onFinish>
                  <body>Processing request...</body>
                </html>
                <html>
                  <onFinish>false</onFinish>
                  <body>In the Add Device dialog:

&lt;ul&gt;
	&lt;li&gt;Enter the name for the device account (use only letters, digits and underscores).&lt;/li&gt;
	&lt;li&gt;Select device driver (type).&lt;/li&gt;
&lt;/ul&gt;

&lt;img src=&quot;connectdt/add_device_dialog.png&quot;/&gt;</body>
                </html>
              </descriptions>
              <field>name</field>
              <value>test</value>
              <row>0</row>
              <undefinedValue>true</undefinedValue>
            </editTableCell>
          </steps>
        </editTable>
        <editProperties>
          <title>Edit Device Access Settings</title>
          <descriptions>
            <html>
              <onFinish>false</onFinish>
              <body>Wait while the dialog is shown...</body>
            </html>
            <html>
              <onFinish>true</onFinish>
              <body>&lt;p&gt;Your new device account has been registered by $R{productServer}. It&apos;s time to set up Device Access Settings, to let the server access the new hardware device. &lt;/p&gt;
&lt;br&gt;
&lt;p&gt;Set up device connection parameters (address, port, timeouts, etc.) in the Device Access Settings dialog. &lt;/p&gt;
&lt;br&gt;
&lt;p&gt;When finished, click &lt;b&gt;OK&lt;/b&gt; to proceed.&lt;/p&gt;
&lt;br&gt;
&lt;img src=&quot;connectdt/access_settings.png&quot;/&gt;</body>
            </html>
          </descriptions>
          <steps/>
          <remoteContext>users.*.devices.*</remoteContext>
          <propertiesGroup>access</propertiesGroup>
        </editProperties>
      </steps>
      <invokerContext>users.*.devices</invokerContext>
      <operationName>create</operationName>
    </operation>
    <operation>
      <title>Configure Device</title>
      <descriptions>
        <html>
          <onFinish>true</onFinish>
          <body>Processing request...</body>
        </html>
        <html>
          <onFinish>false</onFinish>
          <body>&lt;p&gt;Now $R{productServer} knows how to communicate with the newly-added device. It's time to start &lt;b&gt;synchronizing&lt;/b&gt;, i.e. reading information about device settings, operations and available events.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;Click the &lt;img src=&quot;icon_plus.png&quot;/&gt; to expand the Devices node (&lt;img src=&quot;connectdt/st_devices.png&quot;/&gt;). Find the new device by its name. It will probably be represented by one of these state icons:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;img src=&quot;connectdt/st_device_21.png&quot;&gt; &amp;nbsp; Device is online and has been synchronized.
	&lt;li&gt;&lt;img src=&quot;connectdt/st_device_51.png&quot;&gt; &amp;nbsp;  Device is online, first-time synchronization is still in progress.
	&lt;li&gt;&lt;img src=&quot;connectdt/st_device_41.png&quot;&gt; &amp;nbsp; Device is online but some error occurred during synchronization.
	&lt;li&gt;&lt;img src=&quot;connectdt/st_device_50.png&quot;&gt; &amp;nbsp; Device is offline and cannot be accessed by the server.
&lt;/ul&gt;

&lt;p&gt;If the device is still being synchronized, wait until its status changes. Initial synchronization of may take several minutes, especially if the connection is slow.&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;If the device is offline (i.e. represented by an orange icon), right-click it and select &lt;b&gt;Edit Device Access Settings&lt;/b&gt; from the context menu to review communication parameters.&lt;/p&gt;

&lt;p&gt;Finally, if the device has been synchronized (successfully or with some errors), right-click it and select &lt;b&gt;Configure Device&lt;/b&gt; from the context menu:
&lt;br&gt;&lt;br&gt;&lt;img src=&quot;connectdt/configure_device.png&quot;/&gt;
&lt;/p&gt;
</body>
        </html>
      </descriptions>
      <steps>
        <editProperties>
          <title>Device Configuration</title>
          <descriptions>
            <html>
              <onFinish>false</onFinish>
              <body>Wait while the dialog is shown...</body>
            </html>
            <html>
              <onFinish>true</onFinish>
              <body>&lt;p&gt;You may now edit the settings for the hardware device you&apos;ve just connected. &lt;/p&gt;
&lt;br&gt;
&lt;img src=&quot;connectdt/device_configuration.png&quot;/&gt;
&lt;br&gt;&lt;br&gt;
&lt;p&gt;Every setting has a so-called &lt;/i&gt;synchronization status&lt;/i&gt;, shown as an icon in the left column.
Hold your mouse over this icon to view a more detailed status description. 
This is especially useful when some settings cannot be synchronized due to an error. Such settings have a status icon like this: &lt;img src=&quot;connectdt/vs_sync_error.png&quot;/&gt;.
&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;Once you're done, click &lt;b&gt;OK&lt;/b&gt;.&lt;/p&gt;
</body>
            </html>
          </descriptions>
          <steps/>
          <remoteContext>users.*.devices.*</remoteContext>
          <propertiesGroup>remote</propertiesGroup>
        </editProperties>
      </steps>
      <invokerContext>users.*.devices.*</invokerContext>
      <operationName>configure</operationName>
    </operation>
  </steps>
  <fileName>3_connectdt_ez.xml</fileName>
</macro>