# Проверка call_mcp_tool

**Дата:** 2025-12-15  
**Статус:** Проверка доступности инструмента

## Проверка доступности

### ✅ Схемы инструментов прочитаны

Прочитаны схемы следующих инструментов:
- `aggregate_connect` - Подключение к серверу
- `aggregate_login` - Вход в систему
- `aggregate_list_contexts` - Список контекстов

### ⚠️ Проблема: call_mcp_tool не отображается в списке доступных инструментов

Инструмент `call_mcp_tool` не виден в списке доступных инструментов, хотя согласно описанию в `<mcp_file_system>` он должен быть доступен.

## Попытка использования

Попробую использовать `call_mcp_tool` напрямую для проверки подключения:

```python
# Подключение к серверу
result = call_mcp_tool(
    server="user-aggregate",  # или "aggregate"
    tool="aggregate_connect",
    arguments={
        "host": "localhost",
        "port": 6460,
        "username": "admin",
        "password": "admin"
    }
)
```

## Возможные причины проблемы

1. **Инструмент не загружен** - MCP сервер может быть не полностью инициализирован
2. **Неправильное имя сервера** - возможно, нужно использовать `"aggregate"` вместо `"user-aggregate"`
3. **Инструмент доступен через другой механизм** - возможно, нужен другой синтаксис вызова
4. **Требуется перезапуск Cursor** - возможно, нужен полный перезапуск для загрузки инструмента

## Рекомендации

1. **Проверьте статус MCP сервера** в настройках Cursor
2. **Попробуйте использовать `server="aggregate"`** вместо `"user-aggregate"`
3. **Перезапустите Cursor** полностью
4. **Проверьте логи Cursor** на наличие ошибок загрузки MCP инструментов

## Альтернативный способ проверки

Если `call_mcp_tool` недоступен, можно использовать тестовый скрипт:

```bash
python test_mcp_connection.py
```

Этот скрипт проверяет подключение к серверу через MCP протокол напрямую.

---

**Примечание:** Если `call_mcp_tool` доступен в вашем Cursor, попробуйте выполнить команду напрямую в чате Cursor для проверки.

