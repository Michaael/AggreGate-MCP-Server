# Реализация исправления миграции моделей

## Обнаруженные проблемы

1. ✅ **Тип модели**: Модель `objects` имеет `type = 1` (TYPE_ABSOLUTE)
2. ✅ **Переменные модели**: Получены 4 переменные (abonent, flat, guideAbonent, guideFlat)
3. ✅ **Функции модели**: Получена 1 функция (setAbonent)
4. ✅ **События модели**: Пусто (0 событий)
5. ✅ **Привязки**: Пусто (0 привязок)
6. ✅ **Группы**: Найдено 30 групп моделей на исходном сервере

## План исправления

### Шаг 1: Получение полной информации о моделях

Для каждой модели нужно получить:
- `childInfo` - содержит тип модели (`type`: 0=relative, 1=absolute, 2=instantiable)
- `modelVariables` - переменные модели
- `modelFunctions` - функции модели
- `modelEvents` - события модели
- `bindings` - привязки
- `ruleSets` - наборы правил
- `info` или `childInfo.group` - группа контекста

### Шаг 2: Создание групп

Создать все группы на целевом сервере:
- `users.admin.models_groups.*` - 30 групп
- `users.admin.devices_groups.*` - если есть
- `users.admin.widgets_groups.*` - если есть
- `users.admin.dashboards_groups.*` - если есть

### Шаг 3: Пересоздание моделей с правильным типом

Для каждой модели:
1. Удалить старую модель (если существует)
2. Создать модель с правильным типом через установку `childInfo`
3. Установить группу через `childInfo.group`
4. Установить `modelVariables`
5. Установить `modelFunctions`
6. Установить `modelEvents`
7. Установить `bindings`
8. Установить `ruleSets`

## Текущий статус

- ✅ План создан
- ✅ Получена информация о модели `objects`:
  - Тип: `1` (TYPE_ABSOLUTE)
  - Группа: `"default"`
  - Переменные: 4 (abonent, flat, guideAbonent, guideFlat)
  - Функции: 1 (setAbonent)
  - События: 0
  - Привязки: 0
- ⏳ Начата реализация

## Следующие шаги

1. Создать скрипт для получения полной информации о всех моделях
2. Создать все группы на целевом сервере
3. Пересоздать модели с правильным типом и группой
4. Перенести все компоненты моделей (переменные, функции, события, привязки)

