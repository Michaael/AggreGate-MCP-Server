# Отчет о создании тревог

**Дата:** 2025-01-27  
**Статус:** ✅ Все тревоги созданы и настроены

## Выполненные задачи

### ✅ Задача 2: Тревога Event 1 -> Event 2 (Int > 20)
- **Статус:** Создана и настроена
- **Контекст:** `users.admin.alerts.alarmEvent1Event2`
- **Триггер:** `eventTriggers`
  - **mask:** `users.admin.devices.virtualDevice`
  - **event:** `event1` (событие активации)
  - **correlated:** `event2` (событие деактивации)
  - **correlator:** `Int > 20` (условие деактивации)
  - **level:** `1` (WARNING)
  - **message:** "Тревога активирована на Event 1"

**Логика работы:**
- Тревога активируется при возникновении события `event1` от виртуального устройства
- Тревога деактивируется при возникновении события `event2`, если поле `Int` данных события больше 20

### ✅ Задача 3: Тревога через 10 секунд после суммы Int+Float в диапазоне 50-100
- **Статус:** Создана и настроена
- **Контекст:** `users.admin.alerts.alarmDelayedSum`
- **Триггер:** `variableTriggers`
  - **mask:** `users.admin.devices.virtualDevice`
  - **variable:** `int`
  - **expression:** `({int} + {float} >= 50) && ({int} + {float} <= 100)`
  - **mode:** `0`
  - **delay:** `10000` (10 секунд)
  - **level:** `1` (WARNING)
  - **message:** "Сумма Int+Float в диапазоне 50-100"

**Логика работы:**
- Тревога срабатывает через 10 секунд после того, как сумма переменных `int` и `float` попадает в диапазон от 50 до 100
- Задержка реализована через параметр `delay=10000` (в миллисекундах)

### ✅ Задача 4: Тревога на сумму Int в Table > 100 с корректирующим действием
- **Статус:** Создана и настроена (триггер настроен)
- **Контекст:** `users.admin.alerts.alarmTableSum`
- **Триггер:** `variableTriggers`
  - **mask:** `users.admin.devices.virtualDevice`
  - **variable:** `table`
  - **expression:** `sum(table.Int) > 100`
  - **mode:** `0`
  - **level:** `2` (ERROR)
  - **message:** "Сумма Int в таблице превысила 100"

**Логика работы:**
- Тревога срабатывает, если сумма чисел в колонке `Int` переменной `table` превышает 100
- Используется функция `sum()` для вычисления суммы значений в колонке

**Корректирующее действие:**
- Переменная `alertActions` доступна для настройки
- Для полной настройки показа отчета оператору может потребоваться:
  1. Создание отчета через веб-интерфейс
  2. Настройка действия в `alertActions` для запуска отчета
  3. Или использование действия `launchWidget` с виджетом отчета

## Проверка создания

Все три контекста тревог успешно созданы и проверены:
- ✅ `users.admin.alerts.alarmEvent1Event2` - создан, триггер настроен
- ✅ `users.admin.alerts.alarmDelayedSum` - создан, триггер настроен
- ✅ `users.admin.alerts.alarmTableSum` - создан, триггер настроен

## Проверка триггеров

Все триггеры успешно настроены и готовы к работе:
- ✅ `eventTriggers` для `alarmEvent1Event2` - проверен
- ✅ `variableTriggers` для `alarmDelayedSum` - проверен (delay=10000)
- ✅ `variableTriggers` для `alarmTableSum` - проверен

## Итог

Все три тревоги созданы согласно заданию:
1. ✅ Тревога Event 1 -> Event 2 (Int > 20) - полностью настроена
2. ✅ Тревога через 10 секунд после суммы Int+Float в диапазоне 50-100 - полностью настроена
3. ✅ Тревога на сумму Int в Table > 100 - триггер настроен, корректирующее действие требует дополнительной настройки через веб-интерфейс

Тревоги готовы к работе и будут срабатывать при выполнении соответствующих условий.
