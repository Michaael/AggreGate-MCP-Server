# Проблема с set_variable для maxRecords=1

## Проблема
При попытке записать значение в переменную с `maxRecords=1` через `set_variable` возникает ошибка:
```
MCP error -32001: Failed to set variable: Невозможно добавить запись:maximum number of records is reached: 1
```

## Попытки исправления

Было предпринято несколько попыток исправить проблему:

1. **Проверка `useFieldUpdate` в начале функции** - не срабатывает
2. **Использование `setVariableField` для переменных с `maxRecords=1`** - проверка не проходит
3. **Добавление проверки в нормальном пути** - код все равно доходит до `setVariable`

## Текущее состояние

Проблема не решена. Проверки не срабатывают, и код всегда доходит до вызова `setVariable`, что вызывает ошибку.

## Рекомендация

**Использовать `set_variable_field` для записи в переменные с `maxRecords=1`.**

Этот метод работает корректно и позволяет обновлять отдельные поля переменной без попытки добавить новую запись.

## Пример использования

Вместо:
```json
{
  "path": "users.admin.models.test",
  "name": "test_var",
  "value": {"records": [{"value": "Test"}]}
}
```

Использовать:
```json
{
  "path": "users.admin.models.test",
  "name": "test_var",
  "fieldName": "value",
  "value": "Test"
}
```

## Вывод

Проблема требует дополнительного исследования логики AggreGate для установки переменных с ограниченным количеством записей. Возможно, требуется другой подход к обновлению таких переменных.

