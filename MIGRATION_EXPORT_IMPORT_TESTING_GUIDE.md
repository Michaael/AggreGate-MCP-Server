# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Export/Import

## –î–∞—Ç–∞: 2025-01-27

## ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1. –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ MCP —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
- ‚úÖ JAR —Ñ–∞–π–ª: `mcp-server/build/libs/aggregate-mcp-server-1.0.0.jar`
- ‚úÖ –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ Cursor IDE
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `.cursor/mcp.json`

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º**:
   ```json
   {
     "name": "aggregate_connect",
     "arguments": {
       "host": "localhost",
       "port": 6460,
       "username": "admin",
       "password": "admin",
       "connectionKey": "source"
     }
   }
   ```
   
   ```json
   {
     "name": "aggregate_connect",
     "arguments": {
       "host": "target-server",
       "port": 6460,
       "username": "admin",
       "password": "admin",
       "connectionKey": "target"
     }
   }
   ```

3. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞**:
   ```powershell
   New-Item -ItemType Directory -Path "C:\migration\export" -Force
   ```

## üìã –¢–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ models

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "path": "users.admin.models",
  "actionName": "export",
  "filePath": "C:/migration/export/models_test.prs",
  "connectionKey": "source"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `success: true`
- –§–∞–π–ª `C:/migration/export/models_test.prs` —Å–æ–∑–¥–∞–Ω
- –í –ª–æ–≥–∞—Ö: `Set file path field '...' to: C:/migration/export/models_test.prs`

### –¢–µ—Å—Ç 2: –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏ objects

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "path": "users.admin.models.objects",
  "actionName": "export",
  "filePath": "C:/migration/export/objects.prs",
  "connectionKey": "source"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `success: true`
- –§–∞–π–ª `C:/migration/export/objects.prs` —Å–æ–∑–¥–∞–Ω
- –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

### –¢–µ—Å—Ç 3: –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏ objects

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "path": "users.admin.models",
  "actionName": "import",
  "filePath": "C:/migration/export/objects.prs",
  "connectionKey": "target"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `success: true`
- –ú–æ–¥–µ–ª—å `objects` —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –¢–∏–ø –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ `aggregate_get_variable` –Ω–∞ `childInfo`)
2. –ì—Ä—É–ø–ø–∞ –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ `aggregate_get_variable` –Ω–∞ `info`)
3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ `aggregate_get_variable` –Ω–∞ `modelVariables`)
4. –§—É–Ω–∫—Ü–∏–∏ –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ `aggregate_get_variable` –Ω–∞ `modelFunctions`)
5. –°–æ–±—ã—Ç–∏—è –º–æ–¥–µ–ª–∏ (—á–µ—Ä–µ–∑ `aggregate_get_variable` –Ω–∞ `modelEvents`)

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ export/import –≤ –ª–æ–≥–∞—Ö MCP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
Action command received: editData (title: ...)
Command parameters: ...
Set file path field 'file' to: C:/migration/export/objects.prs
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–§–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—É—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

2. **–ü–æ–ª–µ –¥–ª—è –ø—É—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö
   - –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ –∏–º—è –ø–æ–ª—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ EditData –∫–æ–º–∞–Ω–¥–µ

3. **–ò–º–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (.prs)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–µ–ª–µ–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## üìù –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### –ß–µ—Ä–µ–∑ Cursor IDE

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç –≤ Cursor
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `aggregate_execute_action`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JSON –∑–∞–ø—Ä–æ—Å –∏–∑ —Ç–µ—Å—Ç–æ–≤ –≤—ã—à–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python test_export_import.py
```

–°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

1. ‚úÖ –î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫
2. ‚úÖ –§–∞–π–ª .prs —Å–æ–∑–¥–∞–Ω (–¥–ª—è export)
3. ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω (–¥–ª—è import)
4. ‚úÖ –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É
5. ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ —Å –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

